<html
        xmlns:th="http://thymeleaf.org"
        xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout"
        layout:decorate="~{layout}">
<head>
    <title th:text="${userProfile.username}"></title>
</head>

<body>
<main layout:fragment="main">

    <div class="post">

        <h3 th:text="${userProfile.username}"></h3>
        <div style="display: inline-block">
            <h5>Followers: </h5><h5 th:text="${followingsCount}"></h5>
            <h5> Following:</h5><h5 th:text="${followersCount}"></h5>
        </div>

        <div th:if="${user.id} != ${userProfile.id}">
            <form method="post" th:action="@{/follow/{profileUsername}(profileUsername=${userProfile.username})}">
                <div th:if="${follow}">
                    <button type="submit">Unfollow</button>
                </div>
                <div th:unless="${follow}">
                    <button type="submit">Follow</button>
                </div>
            </form>
        </div>

    </div>


    <div class="feed-container" th:each="post :${posts}">
        <div class="post">
            <div class="post-header">
                <span class="username" th:text="${post.user.username}"></span>
                <span class="date" th:text="${post.createdOn}"></span>
            </div>
            <a th:href="@{/post/{postId}(postId=${post.id})}">
                <img th:src="${post.photoUrl}" alt="Post image" class="post-image">
                <div class="post-description" th:text="${post.content}"></div>
            </a>
        </div>
    </div>

</main>
</body>
</html>